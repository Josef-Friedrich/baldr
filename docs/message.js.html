<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: message.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: message.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file Implement message and loging functionality
 */

'use strict'

require('colors')
const fs = require('fs')
const path = require('path')

const error = '☒'.red
const finished = '☑'.green
const progress = '☐'.yellow

/**
 * Print out or return text.
 * @param {string} text - Text to display.
 */
let info = function (text) {
  console.log(text)
}

/**
 *
 */
let noConfigPath = function () {
  let output = error + '  Configuration file ' +
    '“~/.baldr.json” not found!\n' +
    'Create such a config file or use the “--path” option!'

  const sampleConfig = fs.readFileSync(
    path.join(__dirname, 'sample.config.json'), 'utf8'
  )
  output += '\n\nExample configuration file:\n' + sampleConfig

  info(output)
  throw new Error('No configuration file found.')
}

/**
 * &lt;pre>&lt;code>
 * {
 *   "changed": {
 *     "piano": false,
 *     "slides": false
 *   },
 *   "folder": "songs/a/Auf-der-Mauer_auf-der-Lauer",
 *   "folderName": "Auf-der-Mauer_auf-der-Lauer",
 *   "force": true,
 *   "generated": {
 *     "piano": [
 *       "piano_1.eps",
 *       "piano_2.eps"
 *     ],
 *     "projector": "projector.pdf",
 *     "slides": [
 *       "01.svg",
 *       "02.svg"
 *     ],
 *   },
 *   "info": {
 *     "title": "Auf der Mauer, auf der Lauer"
 *   }
 * }
 * &lt;/code>&lt;/pre>
 */
let songFolder = function (s) {
  let forced
  if (s.force) {
    forced = ' ' + '(forced)'.red
  } else {
    forced = ''
  }

  let symbol
  if (!s.info.title) {
    symbol = error
  } else if (!s.changed.slides &amp;&amp; !s.changed.piano) {
    symbol = finished
  } else {
    symbol = progress
  }

  let title
  if (!s.info.title) {
    title = s.folderName.red
  } else if (!s.changed.slides &amp;&amp; !s.changed.piano) {
    title = s.folderName.green + ': ' + s.info.title
  } else {
    title = s.folderName.yellow + ': ' + s.info.title
  }

  let output = symbol + '  ' + title + forced
  if (s.generated.slides) {
    output +=
      '\n\t' +
      'slides'.yellow +
      ': ' +
      s.generated.slides.join(', ')
  }

  if (s.generated.piano) {
    output +=
      '\n\t' +
      'piano'.yellow +
      ': ' +
      s.generated.piano.join(', ')
  }
  info(output)
}

exports.info = info
exports.noConfigPath = noConfigPath
exports.songFolder = songFolder
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-baldr-songbook-updater.html">baldr-songbook-updater</a></li></ul><h3>Classes</h3><ul><li><a href="module-baldr-songbook-updater-FileMonitor.html">FileMonitor</a></li><li><a href="module-baldr-songbook-updater-SongFiles.html">SongFiles</a></li><li><a href="module-baldr-songbook-updater-SongMetaData.html">SongMetaData</a></li><li><a href="module-baldr-songbook-updater-TeX.html">TeX</a></li></ul><h3>Global</h3><ul><li><a href="global.html#flat">flat</a></li><li><a href="global.html#flattenTree">flattenTree</a></li><li><a href="global.html#generateJSON">generateJSON</a></li><li><a href="global.html#generateSongJSON">generateSongJSON</a></li><li><a href="global.html#getABCFolders">getABCFolders</a></li><li><a href="global.html#getFolderFiles_">getFolderFiles_</a></li><li><a href="global.html#getSongFolders">getSongFolders</a></li><li><a href="global.html#getSongInfo">getSongInfo</a></li><li><a href="global.html#getTree">getTree</a></li><li><a href="global.html#info">info</a></li><li><a href="global.html#noConfigPath">noConfigPath</a></li><li><a href="global.html#readJSON">readJSON</a></li><li><a href="global.html#songFolder">songFolder</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a>.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
