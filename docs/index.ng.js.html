<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.ng.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.ng.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file TODO: Should be removed. Unused code
 */

/* global location */

const path = require('path')

/**
 * The current song
 */

class Song {
  constructur () {
    /**
     * The current slide number.
     */
    this.slideNumber = 0

    /**
     * The biggest slide number.
     */
    this.slideNumberMax = 0

    /**
     * Array of all images files of a song.
     */
    this.slides = []

    /**
     * The absolute path of the song folder containing the images files.
     */
    this.folder = ''

    /**
     * Parent folder containing all songs
     */
    this.songsPath = ''

    /**
     * &lt;code>&lt;pre>
     * {
     *   "Aint-she-sweet": {
     *     "title": "Ainâ€™t she sweet",
     *     "artist": "Milton Ager (1893 - 1979)",
     *     "lyricist": "Jack Yellen",
     *     "folder": "/home/jf/git-repositories/content/lieder/a/Aint-she-sweet",
     *     "slides": [
     *       "01.svg",
     *       "02.svg"
     *     ]
     *   },
     *   "Altes-Fieber": {
     *     "title": "Altes Fieber",
     *     "artist": "Die Toten Hosen",
     *     "musescore": "https://musescore.com/user/12559861/scores/4801717",
     *     "folder": "/home/jf/git-repositories/content/lieder/a/Altes-Fieber",
     *     "slides": [
     *       "01.svg",
     *       "02.svg",
     *       "03.svg",
     *       "04.svg",
     *       "05.svg",
     *       "06.svg"
     *     ]
     *   },
     *   "Always-look-on-the-bright-side": {
     *     "title": "Always look on the bright side of life",
     *     "source": "http://musescore.com/score/158089",
     *     "folder": "/home/jf/git-repositories/content/lieder/a/Always-look-on-the-bright-side",
     *     "slides": [
     *       "01.svg",
     *       "02.svg",
     *       "03.svg",
     *       "04.svg",
     *       "05.svg",
     *       "06.svg"
     *     ]
     *   },
     * &lt;/pre>&lt;/code>
     */
    this.library = {}

    /**
     * The current song
     * &lt;code>&lt;pre>
     * {
     *   "title": "Altes Fieber",
     *   "artist": "Die Toten Hosen",
     *   "musescore": "https://musescore.com/user/12559861/scores/4801717",
     *   "folder": "/home/jf/git-repositories/content/lieder/a/Altes-Fieber",
     *   "slides": [
     *     "01.svg",
     *     "02.svg",
     *     "03.svg",
     *     "04.svg",
     *     "05.svg",
     *     "06.svg"
     *   ]
     * }
     * &lt;/pre>&lt;/code>
     */
    this.song = {}

    this.selector = ''
  }

  set (values) {
    this.songsPath = values.songsPath
    this.library = values.library
    this.selector = values.selector
  }

  /**
   * Set all properties for the current song.
   *
   * @param {string} songID The ID of the song: The song title, escaped
   *   without special characters and whitespaces
   *   (e. g.: Another-brick-in-the-wall)
   */
  setCurrent (songID) {
    this.song = this.library[songID]
    if (typeof this.song !== 'undefined') {
      this.slideNumber = 0
      this.slides = this.song.slides
      this.slideNumberMax = this.slides.length - 1
      this.folder = this.song.folder
    }
    this.setSlide()
  }

  /**
   *
   */
  setSongTitle () {
    if (this.slideNumber === 0 &amp;&amp; this.song.hasOwnProperty('title')) {
      document.getElementById('song-title').style.display = 'block'
      document.getElementById('song-title_title').textContent = this.song.title
      document.getElementById('song-title_subtitle').textContent = this.song.subtitle
    } else {
      document.getElementById('song-title').style.display = 'none'
    }
  }

  /**
   * Load the current image to the slide section.
   */
  setSlide () {
    let imagePath = path.join(this.folder, 'slides', this.slides[this.slideNumber])
    document.querySelector(this.selector).setAttribute('src', imagePath)
    this.setSongTitle()
  }

  /**
   * Show the next slide.
   */
  nextSlide () {
    this.slideNumber += 1
    if (this.slideNumber > this.slideNumberMax) {
      this.slideNumber = 0
    }
    this.setSlide()
  }

  /**
   * Show the previous slide.
   */
  previousSlide () {
    this.slideNumber -= 1
    if (this.slideNumber &lt; 0) {
      this.slideNumber = this.slideNumberMax
    }
    this.setSlide()
  }

  /**
   *
   */
  loadByHash () {
    if (location.hash !== '') {
      this.setCurrent(location.hash.substring(1))
      this.setSlide()
      this.modal.hide()
    }
  }
}

exports.Song = Song
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-baldr-songbook.html">baldr-songbook</a></li></ul><h3>Classes</h3><ul><li><a href="AlphabeticalSongsTree.html">AlphabeticalSongsTree</a></li><li><a href="BaldrSongbookModal.html">BaldrSongbookModal</a></li><li><a href="BaldrSongbookSearch.html">BaldrSongbookSearch</a></li><li><a href="BaldrSongbookToc.html">BaldrSongbookToc</a></li><li><a href="FileMonitor.html">FileMonitor</a></li><li><a href="Folder.html">Folder</a></li><li><a href="Library.html">Library</a></li><li><a href="ModalManager.html">ModalManager</a></li><li><a href="PianoFilesCountTree.html">PianoFilesCountTree</a></li><li><a href="PianoScore.html">PianoScore</a></li><li><a href="Song.html">Song</a></li><li><a href="SongMetaData.html">SongMetaData</a></li><li><a href="SongMetaDataCombined.html">SongMetaDataCombined</a></li><li><a href="Sqlite.html">Sqlite</a></li><li><a href="TextFile.html">TextFile</a></li></ul><h3>Global</h3><ul><li><a href="global.html#bindButtons">bindButtons</a></li><li><a href="global.html#bindShortcuts">bindShortcuts</a></li><li><a href="global.html#bootstrapConfig">bootstrapConfig</a></li><li><a href="global.html#checkExecutable">checkExecutable</a></li><li><a href="global.html#checkExecutables">checkExecutables</a></li><li><a href="global.html#folder">folder</a></li><li><a href="global.html#library">library</a></li><li><a href="global.html#loadByHash">loadByHash</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#nextSlide">nextSlide</a></li><li><a href="global.html#parseCliArguments">parseCliArguments</a></li><li><a href="global.html#previousSlide">previousSlide</a></li><li><a href="global.html#setCurrent">setCurrent</a></li><li><a href="global.html#setSlide">setSlide</a></li><li><a href="global.html#setSongTitle">setSongTitle</a></li><li><a href="global.html#slideNumber">slideNumber</a></li><li><a href="global.html#slideNumberMax">slideNumberMax</a></li><li><a href="global.html#slides">slides</a></li><li><a href="global.html#song">song</a></li><li><a href="global.html#songsPath">songsPath</a></li><li><a href="global.html#sortObjectsByProperty">sortObjectsByProperty</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a>.
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
